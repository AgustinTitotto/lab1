/*C2*/SET SCHEMA PUBLIC
alter table User_Address drop constraint FK99mvwgxako4npuni7qj8ji0gy
alter table User_Address drop constraint FKfiie5434h91u12cb45sa7y3xc
drop table Address if exists
drop table User if exists
drop table User_Address if exists
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Address (id bigint not null, primary key (id))
create table User (id bigint not null, EMAIL varchar(255), FIRST_NAME varchar(255), IS_ACTIVE boolean, LAST_NAME varchar(255), PASSWORD varchar(255), primary key (id))
create table User_Address (users_id bigint not null, addresses_id bigint not null)
alter table User_Address add constraint FK99mvwgxako4npuni7qj8ji0gy foreign key (addresses_id) references Address
alter table User_Address add constraint FKfiie5434h91u12cb45sa7y3xc foreign key (users_id) references User
INSERT INTO USER VALUES(1,'diego.larralde@gmail.com','Diego',NULL,'Larralde',NULL)
COMMIT
alter table User_Address drop constraint FK99mvwgxako4npuni7qj8ji0gy
alter table User_Address drop constraint FKfiie5434h91u12cb45sa7y3xc
drop table Address if exists
drop table User if exists
drop table User_Address if exists
drop sequence hibernate_sequence if exists
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
drop table Address if exists
drop table User if exists
drop table User_Address if exists
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Address (id bigint not null, primary key (id))
create table User (id bigint not null, EMAIL varchar(255), FIRST_NAME varchar(255), IS_ACTIVE boolean, LAST_NAME varchar(255), PASSWORD varchar(255), primary key (id))
create table User_Address (users_id bigint not null, addresses_id bigint not null)
alter table User_Address add constraint FK99mvwgxako4npuni7qj8ji0gy foreign key (addresses_id) references Address
alter table User_Address add constraint FKfiie5434h91u12cb45sa7y3xc foreign key (users_id) references User
INSERT INTO USER VALUES(1,'diego.larralde@gmail.com','Diego',NULL,'Larralde',NULL)
COMMIT
alter table User_Address drop constraint FK99mvwgxako4npuni7qj8ji0gy
alter table User_Address drop constraint FKfiie5434h91u12cb45sa7y3xc
drop table Address if exists
drop table User if exists
drop table User_Address if exists
drop sequence hibernate_sequence if exists
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
drop table Address if exists
drop table User if exists
drop table User_Address if exists
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Address (id bigint not null, primary key (id))
create table User (id bigint not null, EMAIL varchar(255), FIRST_NAME varchar(255), IS_ACTIVE boolean, LAST_NAME varchar(255), PASSWORD varchar(255), primary key (id))
create table User_Address (users_id bigint not null, addresses_id bigint not null)
alter table User_Address add constraint FK99mvwgxako4npuni7qj8ji0gy foreign key (addresses_id) references Address
alter table User_Address add constraint FKfiie5434h91u12cb45sa7y3xc foreign key (users_id) references User
INSERT INTO USER VALUES(1,'diego.larralde@gmail.com','Diego',TRUE,'Larralde','1234')
COMMIT
